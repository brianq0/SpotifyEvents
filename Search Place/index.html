<!DOCTYPE html>
<html>
<head>

</head>
<body>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?libraries=places"></script>
<h1>places autocomplete testing</h1>
<input type="text" id="location" name="location" placeholder="City or ZIP code">
<input type="submit" value="GO" id="go">
<span class="zip"></span>
<script>
$(function(){
  
    var autocomplete;
    var geocoder;
    var input = document.getElementById('location');
    var options = {
      componentRestrictions: {'country':'us'},
      types: ['(regions)']
    };
  
    autocomplete = new google.maps.places.Autocomplete(input,options);
  
    $('#go').click(function(){
      var location = autocomplete.getPlace();
      geocoder = new google.maps.Geocoder();
      console.log(location['geometry'])
      lat = location['geometry']['location'].lat();
      lng = location['geometry']['location'].lng();
      var latlng = new google.maps.LatLng(lat,lng);
      
      geocoder.geocode({'latLng': latlng}, function(results) {
          console.log(results);
        for(i=0; i < results.length; i++){
            for(var j=0;j < results[i].address_components.length; j++){
                for(var k=0; k < results[i].address_components[j].types.length; k++){
                    if(results[i].address_components[j].types[k] == "postal_code"){
                        zipcode = results[i].address_components[j].short_name;
                        $('span.zip').html(zipcode);	
                        console.log(zipcode)	
                    }
                }
            }
        }
      });
      
    });
    
    
  });

</script>
</html>