<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- ====================== -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" type="text/css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.min.css" type="text/css" rel="stylesheet" />
<!-- ======================= -->
</head>
<body>
    
    <div id = "remove">
        <!-- <button id="button1">Remove event1</button>
        <button id="button2">Remove event2</button> -->
        <button id="button3">Remove All Events</button>
        <button id="reformat">Reformat View</button>
    </div>
  <div id="calendar1"></div>
  <!-- ================================ -->
  <div id="fullCalModal" class="modal fade" tabindex="-1" role="dialog" aria-labelby="modalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span> <span class="sr-only">close</span></button>
                <h4 id="modalTitle" class="modal-title"></h4>
            </div>
            <div id="Venue" class="modal-body">Venue : </div>
            <div id="Time"  class="modal-body">Time : </div>
            <div id="Price"  class="modal-body">Price : </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <!-- <a class="btn btn-primary" id="eventUrl" target="_blank">Remove Event</a> -->
                 <button type="button" id="removeEvent" data-dismiss="modal">Remove Event</a> 
            </div>
        </div>
    </div>
</div>
        
<!-- ================================== -->
  <script src="https://cdn.jsdelivr.net/momentjs/2.12.0/moment.min.js"></script>
  <script src="http://fullcalendar.io/js/fullcalendar-2.7.1/lib/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        $(window).load(function() {
            $('#prizePopup').modal('show');
        });
        </script>
  <!-- <script src="http://fullcalendar.io/js/fullcalendar-2.7.1/fullcalendar.min.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.js"></script>
  <link rel='stylesheet' type='text/css' href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.7.1/fullcalendar.min.css'>

  <script>
      var today = moment().format("YYYY-MM-YY");
      console.log(today);
      var currentEventId;
      
    $(document).ready(function() {
        $('#calendar1').fullCalendar({
            defaultDate: today,
            editable: true,
            eventLimit: true, // allow "more" link when too many events
            events: [{title : 'U2 360 tour' , start : '2018-08-18', time : 'Time : 7:00 PM', description : 'Venue : Shoreline' , price : 'Price : $20'}, 
                            {title: 'Pink Floyd', start : '2018-08-26', time : 'Time : 8:00 PM', description: 'Venue : Oracle arena', price : 'Price : $30'},
                            {title: 'AC/DC', start : '2018-08-02', time : 'Time : 9:00 PM', description : 'Venue : At&t park', price : 'Price : $40'},
                            {title: 'Adele', start : '2018-08-10', time : 'Time : 8:00 PM', description : 'Venue : Fox Theatre', price : 'Price : $50'}],
            // eventClick: function(events)
            // {
            //     console.log(events._id);
                
            // }
            eventClick:  function(event, jsEvent, view) {
                    currentEventId = event._id;
                    console.log(event);
                    $('#modalTitle').html(event.title);
                    $('#Venue').html(event.description);
                    $("#Time").html(event.time);
                    $("#Price").html(event.price);
                    $('#eventUrl').attr('href',event.url);
                    $('#fullCalModal').modal();
                    return false;
                },
        })

        $("#removeEvent").on("click", function()
        {
         
            $("#calendar1").fullCalendar('removeEvents', currentEventId)
        }) 
        $("#reformat").on("click", function()
        {
           console.log("why not");
            $('#calendar1').fullCalendar('defaultView', 'listMonth');
        }) 
        // $("#button1").on("click", function()
        // {
        //     $("#calendar1").fullCalendar('removeEvents','_fc1')
        // })
        // $("#button2").on("click", function()
        // {
        //     $("#calendar1").fullCalendar('removeEvents', '_fc2');
        // })
        $("#button3").on("click", function()
        {
            $("#calendar1").fullCalendar('removeEvents');
        })
    });
    
  </script>

</body>
</html>